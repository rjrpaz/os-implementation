<HTML>

<HEAD>
<TITLE>CMSC 412 - Hot News</TITLE>
</HEAD>

<BODY
	TEXT="#000000" BGCOLOR="#d7d3d2"
	LINK="#0000FF" VLINK="#008080" ALINK="#FF0000"
	>

<H1 ALIGN=CENTER><IMG
	SRC="hotNews.gif" ALT="CS 412 HOTNEWS" HEIGHT=75 WIDTH=281></H1>


<h2 align=center>for
<a href="http://www.cs.umd.edu/~hollings/cs412/s98">CMSC&nbsp;412</a></h2>

<div align="center"><font face="Helvetica">
This page contains late breaking announcements
from Dr.&nbsp;Hollingsworth and Simon&nbsp;Hawkin (the&nbsp;TA).<br>
Please check this page a couple of times a week.
</font></div> 

<hr>

<h2> <a name="proj5graded"><center>Project 5 Graded </center></h2> <p>
<li> Project 5 has been graded. <A HREF="grades5.txt">Grades</A> and
grading <A HREF="guidelines5.txt">guidelines</A> are available.
<B><font color="red">This is important:</font></B> several (reportedly
working) projects <B>could not compile</B>! Or <B>would not run</B>!
Accordingly, they received zeros. If you think that your project 5 may
let your class grade down (and that's around 8 percentage points!),
try to settle this somehow with Dr. Hollingsworth. I (Simon) too will
be available later in the day, but that may not be of much help; the
class grades may very well be calculated sooner.


<h2> <center> Final Moved! </center> </h2>
<li> The final will be in 1112 AV Williams (same room as lecture).

<hr noshade>  <!-- *** *** *** O L D   N E W S *** *** *** -->

</P>
<table align="center"><tr><td align="center" bgcolor="yellow"><B>
<font color="red" size="+4">O</font><font color="red" size="+3">LD</font><font
color="red" size="+4"> N</font><font color="red" size="+3">EWS</font>
</B></td></tr></table>

<h2> <a name="proj4guidelines"><center>Project 4 Guidelines
</center></h2> <p> <li>
<A HREF="guidelines4.txt">Guidelines</A> for project 4 are available now.

<h2> <a name="proj5sampleApplications"><center>Sample Applications for
Project 5</center></h2> <p> <li> They are available from the project
<A
HREF="http://www.cs.umd.edu/~hollings/cs412/s98/project/proj5/index.html">description</A>.
Two of them, <A HREF="5/cat.c">cat</A> and <A HREF="5/tee.c">tee</A>, have
been modified recently. If they do not work for you, please let <A
HREF="mailto:cema@cs.umd.edu?subject=CMSC 412 project 5
 applications">me</A> know. </P>


<h2> <a name="proj4graded"><center>Project 4 Graded<br> <font
face="Times" size="+1"></font> </center></h2> <p> <li> Project 4 has
been graded. However, <b>several projects could not be tested</b>.
Look at the <A HREF="grades4.txt">grades</A>; if you do not see your
grade in the list, or if you are not satisfied with your grade, you
will need to see me. As usual, you can do that either during <A
HREF="http://www.cs.umd.edu/~cema/412/index.html">office hours</A> or
set a special <A HREF="mailto:cema@cs.umd.edu?subject=CMSC 412 project
 4: not cool :-(">appointment</A> at some time convenient for you and
me. </P>

 <P> A few words on the testing. As usual, the tests are run under
Windows&nbsp;NT; those that fail are run under Windows&nbsp;95 and
MS&nbsp;DOS. Only the best test runs are considered. If you are
curious, check out the <A HREF="proj4tests.html">tests</A> and see for
yourself. </P>


<h2> <a name="proj5sampleKernel"><center>Project 5 - Sample Kernel
</center></h2> <p> <li> A <A
HREF="ftp://ftp.cs.umd.edu/pub/faculty/keleher/412/proj5/sampleKernel/sampleKernel.htm">sample</A>
kernel may be taken from the previous semester. Let me know if it
contains any inconsistencies with our current documentation (should
not). This version implements everything except the shell. If you
decide to use the sample kernel, you will have to <B>implement the
shell</B>, which will get you up to 50% of the maximal possible grade
for project 5. This option is only recommended if you do not have a
working version of kernel (that is, project 4). <p>

<h2> <a name="recitationEvaluation"><center>Recitation Evaluation
</center></h2> <p> <li> <B>Payback time!</B> On the next lab session
(May 6<sup>th</sup>), you will have a chance to give our department
some feedback. There will be separate evaluations of the TA (in the
aforementioned session) and the professor (on a lecture, I presume).

<h2> <a name="proj3graded"><center>Project 3 Graded</center></h2>
<p> <li>
The grading <A HREF="guidelines3.txt">guidelines</A> and
<A HREF="grades3.txt">grades</A> are available now. So are the tests:
<A HREF="3/test0.c">0</A>, <A HREF="3/test1.c">1</A>,
<A HREF="3/test2.c">2</A>, <A HREF="3/test3.c">3</A>,
<A HREF="3/test4.c">4</A>, and <A HREF="3/test5.c">5</A>.
Test&nbsp;5 is the smokers problem; test&nbsp;0 is very simple;
tests&nbsp;1 and 2 are the enclosed user programs; tests&nbsp;3 and 4
are taken from the previous semesters. </p>

<p>The average score is approximately <B>65</B>, including non-working
projects, and around <B>84</B> among the working projects (that is,
projects that show some life). If you have any suggestions,
complaints, or questions, feel free to <A
HREF="mailto:cema@cs.umd.edu?subject=Project 3, I don't get
 it...">ask</A> me.
</p>

<h2> <a name="noWarn"><center>No Warnings</center></h2> <li> Keep in
mind that your project should <B>compile with no warnings</B> (and no
errors). If you use <code>#pragma warn</code> to disable warnings,
please restrict its effect on one piece of code at a time (at most,
one function definition) and reenable it after that (or restore the
previous state). If you use <CODE>-w</CODE> compiler option,
you are only allowed to enable warnings. 

<h2> <a name="relocationTable"><center>Relocation Table</center></h2>

<table>
<tr>
<td align="left"><font size="+2" color="red">Before relocation:</font></td>
<td align="left"><font size="+2" color="red">After relocation:</font></td>
</tr>
<tr>
<td align="left"><IMG SRC="relTabBefore-trans.gif"></td>
<td align="right"><IMG SRC="relTabAfter-trans.gif"></td>
</tr>
</table>

 <P>

 <li>
Relocation table contains references to addresses that are used in the
program. For every address <CODE>A</CODE> in the program there is an
entry <CODE>B</CODE> in the relocation table that points to A. These
pointers are stored as unsigned longs (only the 20 minor bits are
used). Now we can calculate the absolute addresses from the relative
addresses (stored in the program before relocation). First, we
calculate the starting address of the segment where we load the
program (referred to as <CODE>startseg</CODE> in the specs). Then, add
to it the relative address (pointed to by an entry in the relocation
table), getting the absolute address. Finally, repeat this for all
entries of the relocation table. <P>

In the example below, we assume the <CODE>header</CODE> was declared
as <CODE>unsigned[]</CODE>; its contents is described in the specs.
Notice that we update ("patch") both the address used in the program
and the pointer to that address (stored in the relocation table),
since both of them are relative before relocation. <P>

<CODE>
unsigned&nbsp;**entry;&nbsp;/*&nbsp;pointer&nbsp;to&nbsp;an&nbsp;entry&nbsp;in&nbsp;the&nbsp;relocation&nbsp;table&nbsp;*/<br>
unsigned&nbsp;*seg;&nbsp;/*&nbsp;segment&nbsp;portion&nbsp;of&nbsp;the&nbsp;address&nbsp;to&nbsp;be&nbsp;patched&nbsp;*/<br>
int&nbsp;i;<br>
entry&nbsp;=&nbsp;(unsigned**)(&nbsp;(char*)header&nbsp;+&nbsp;header[12]&nbsp;);&nbsp;/*&nbsp;1st&nbsp;entry&nbsp;*/<br>
for&nbsp;(&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;header&nbsp;[3];&nbsp;++i&nbsp;)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;seg&nbsp;=&nbsp;MK_FP(&nbsp;FP_SEG(*entry)&nbsp;+<B>startseg</B>,
	FP_OFF(*entry)&nbsp;);<br>
&nbsp;&nbsp;&nbsp;*seg&nbsp;+=&nbsp;<B>startseg</B>;<br>
&nbsp;&nbsp;&nbsp;++entry;<br>
}
</CODE>
 <P>

<h2> <a name="proj3officeHours">Extended Office Hours</h2> <li> On
<font color="brown">Monday, March 30</font>, I will hold <font
color="red">additional office hours</font> in the AVW WAM lab (the
usual place) <font color="brown">between 5&nbsp;pm and
6&nbsp;pm</font>. After that, I will stay on campus for <font
color="brown">another hour</font> or longer; feel free to send me
email to make an appointment.


<h2> <a name="tShirt">T-Shirts</h2> <li>
Have you voted for your favorite design of this year's
<A HREF="http://www.cs.umd.edu/~exec_co/tshirt1998.html">T-shirt</A>
of our beloved Department?


<h2> <a name="proj3diskette">Project 3 Diskette Contents</h2> <li> I
only pay attention to the source code (including the makefile) and the
<CODE>readme</CODE> file. Whatever object files, executables, etc. may
be on the diskette are ignored. Also, you do not have to put them in a
special subdirectory on the diskette (as the specs suggest); I assume
you have the project in the root directory. This is not important,
anyway; just let me know where you keep the files, if you think there
may be a confusion.

<h2> <a name="proj3sema">Project 3 Semaphores</h2> <li> In case you
have missed it, the project assumes the semaphores are implemented as
in the textbook ("as on the test"), that is, without thresholding the
counter.

<h2> <a name="proj3addReqt">Project 3 Additional Requirements</h2>
<li> Please <A HREF="proj3reqt.html">read them</A> <B>carefully</B>.
Send any questions to <A HREF="mailto:cema@cs.umd.edu?subject=Need to
 consult you">your TA</A>.

<h2> <a name="springBreak">Spring Break</h2> <li> <font
color="green">Happy holidays to everyone!</font> In the meantime, in
case you decide that working on your project during the break will
make your life happier, you are welcome to send <A
HREF="mailto:cema@cs.umd.edu?subject=SORRY TO BOTHER YOU DURING THE
 HOLIDAYS">me</A> (Simon) questions by <B>email</B>. I will answer
them, but the <em>delays</em> may be longer than a day. Also, <font
color="red">I will be out of town between Friday, March 27 and Monday,
March 30</font>. I cannot promise that I will meet you during the
break, unless it is an emergency (in terms of the project). I will
hold no office hours either. <P>

<h2> <a name="proj2graded">Project 2 Graded</h2> <li> You will get the
submitted diskettes back with notes (a "notes" file) on them
explaining the grade. The grading <A HREF="guidelines2.txt">guidelines</A>
and <A HREF="grades2.txt">grades</A> are available. So are the tests.
The following files should be substituted for <CODE>proc.c</CODE> and
the project recompiled. (If you have different header file names, replace
the included file names.)
<A HREF="2/test1.c">test1.c</A>, <A HREF="2/test2.c">test2.c</A>,
<A HREF="2/test3.c">test3.c</A>, <A HREF="2/test3a.c">test3a.c</A>,
<A HREF="2/test4.c">test4.c</A>, <A HREF="2/test5.c">test5.c</A>,
<A HREF="2/test6.c">test6.c</A>, <A HREF="2/test6a.c">test6a.c</A>,
<A HREF="2/test7.c">test7.c</A>, <A HREF="2/test7a.c">test7a.c</A>.
The following batch file does a selected test (including recompilation
and running): <A HREF="2/do.bat">do.bat</A>.


<h2> <a name="proj2wrapup">Project 2 Wrap Up</a></h2> <li> A few <A
HREF="proj2wrapup.txt">last words</A> have been <A
HREF="news:6ddpta$45l@ringding.cs.umd.edu">posted</A> in <A
HREF="news:csd.cmsc412">our newsgroup</A>.

<h2> <a name="proj1graded">Project 1 Graded</h2> <li> You will get the
submitted diskettes back with notes (a "notes" file) on them
explaining the grade. The grading <A HREF="guidelines1.txt">guidelines</A>
and <A HREF="grades1.txt">grades</A> are available.

<h2> <a name="handout2bug">Correction to Project 2 Handout</h2>
<li> See "Implementing system calls", description of the
<code>System_service</code> interrupt handler. If you have an old Borland
package (versions later than 4), the correct prototype is
<p><code>
void interrupt System_service <br>
  (sbp,sdi,ssi,sds,ses,sdx,scx,sbx,sax, <br>
  sip,scs,sflags,<b>sds2,</b>sbp2,sip2,scs2,proc,argc,argv) <br>
      /* Access to system service routines. Service type is <br>
	 to be passed in the AX register */ <br>
unsigned int sbp,sdi,ssi,sds,ses,sdx,scx,sbx,sax,sip,scs,sflags, <br>
      <b>sds2,</b>sbp2,sip2,scs2,argc ;
</code></p>

and if you have a current version of Borland (4 or later), the correct
prototype is

<p><code>
void interrupt System_service <br>
  (sbp,sdi,ssi,sds,ses,sdx,scx,sbx,sax, <br>
  sip,scs,sflags,sbp2,sip2,scs2,proc,argc,argv) <br>
      /* Access to system service routines. Service type is <br>
	 to be passed in the AX register */ <br>
unsigned int sbp,sdi,ssi,sds,ses,sdx,scx,sbx,sax,sip,scs,sflags, <br>
      sbp2,sip2,scs2,argc ;
</code></p>

The handout, unfortunately, confused the new signature with the old
parameter declarations.

<h2> <a name="proj0graded">Project 0 Graded</h2> <li> You will get the
submitted diskettes back with notes (a "notes" file) on them
explaining the grade. The grading <A HREF="guidelines0.txt">guidelines</A>
and <A HREF="grades0.txt">grades</A> are available.

<h2> <a name="officeHours">TA Office Hours</h2> <li> The TA will have
office hours on Tuesdays 2-3:30 pm, as announced. Another session of
office hours is on <b>Thursday, 5:30-7:00 pm</b>.
This will satisfy most but not
all students. Therefore, if you need to meet me but cannot make it
during office hours, <A HREF="mailto:cema@cs.umd.edu?subject=CMSC
412">email</A> me to set up an appointment.

<h2> <a name="movedLecture">Lecture Room Changed</h2>
<li> Lecture will now meet in AVW 1112 (starting 1/29/98).

<h2> <a name="movedSection">Discussion Section Room Changed</h2>
<li> Both discussion sections will now meet in CHM0124.

<H2>No lab session on Mondays</H2>
<LI> Correct your schedules: there will be no recitation (discussion, lab)
section meetings on <strike><B>Mondays</B></strike>. Both sections
meet at their allocated time on <B>Wednesdays</B> only. Office hours
will be announced later.


</BODY>
</HTML>


